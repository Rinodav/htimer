<template>
  <div class="card flex justify-center flex-col">
    <div>
      <Button label="Add Stage" @click="addStage" />
      <Button label="Add Document" @click="addDocument" />
    </div>
    <Tree :value="nodes" class="w-full md:w-[30rem]">
      <template #nodeicon="{ node }">
        <img v-if="node.icon" :src="node.icon" class="custom-icons" />
      </template>
    </Tree>
  </div>
</template>

<script setup>
import Tree from "primevue/tree";
import Button from "primevue/button";
import { ref } from "vue";

const nodes = ref([
  {
    key: "0",
    label: "Этапы",
    data: "Stages",
    icon: "/public/sidebar/stages.svg",
    // expandedIcon: "pi pi-fw pi-inbox",
    children: [
      {
        key: "0-0",
        label: "Work",
        data: "Stage",
        icon: "pi pi-fw pi-cog",
        children: [
          {
            key: "0-0-0",
            label: "Expenses.doc",
            icon: "/public/sidebar/document.svg",
            data: "Document",
          },
          {
            key: "0-0-1",
            label: "Resume.doc",
            icon: "pi pi-fw pi-file",
            data: "Document",
          },
        ],
      },
      {
        key: "0-1",
        label: "Home",
        data: "Stages",
        icon: "pi pi-fw pi-home",
        children: [
          {
            key: "0-1-0",
            label: "Invoices.txt",
            icon: "pi pi-fw pi-file",
            data: "Invoices for this month",
          },
        ],
      },
    ],
  },
]);
</script>

<style lang="scss" scoped>
@import "@/assets/styles/variables.scss";
.p-tree {
  background: transparent;
  font-size: 22px;
  font-weight: 600;
  max-width: 279px;
}

.p-tree.p-component.w-full {
  padding: 0;
}

:deep(.p-tree-node-content) {
  padding: 0;
  color: $base-blue;
}

:deep(.p-tree-node-toggle-button) {
  order: 1;
  margin-left: auto;
}
</style>
